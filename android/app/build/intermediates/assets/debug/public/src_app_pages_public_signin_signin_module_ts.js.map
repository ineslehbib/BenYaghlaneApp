{"version":3,"file":"src_app_pages_public_signin_signin_module_ts.js","mappings":"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","sources":["./src/app/pages/public/signin/signin-routing.module.ts","./src/app/pages/public/signin/signin.module.ts","./src/app/pages/public/signin/signin.page.ts","./src/app/pages/public/signin/signin.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SigninPage } from './signin.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SigninPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SigninPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SigninPageRoutingModule } from './signin-routing.module';\r\n\r\nimport { SigninPage } from './signin.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SigninPageRoutingModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [SigninPage]\r\n})\r\nexport class SigninPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { LoadingController } from '@ionic/angular';\r\nimport { AuthService } from 'src/app/services/auth/auth.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ToastService } from 'src/app/services/toast/toast.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-signin',\r\n  templateUrl: './signin.page.html',\r\n  styleUrls: ['./signin.page.scss'],\r\n})\r\nexport class SigninPage implements OnInit {\r\n\r\n  current_year: number = new Date().getFullYear();\r\n\r\n  signin_form: FormGroup;\r\n  submit_attempt: boolean = false;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private loadingController: LoadingController,\r\n    private formBuilder: FormBuilder,\r\n    private toastService: ToastService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    // Setup form\r\n    this.signin_form = this.formBuilder.group({\r\n      email: ['', Validators.compose([Validators.minLength(8), Validators.required])],\r\n      password: ['', Validators.compose([Validators.minLength(6), Validators.required])]\r\n    });\r\n  }\r\n\r\n  // Sign in\r\n  async signIn() {\r\n    this.submit_attempt = true;\r\n\r\n    if (this.signin_form.valid) {\r\n      const email = this.signin_form.value.email;\r\n      const password = this.signin_form.value.password;\r\n\r\n      try {\r\n        const loading = await this.loadingController.create({\r\n          message: 'Authentification ...',\r\n        });\r\n        await loading.present();\r\n\r\n        const success = await this.authService.signIn(email, password);\r\n\r\n        await loading.dismiss();\r\n\r\n        if (success) {\r\n          // Redirect to the home page or any other page upon successful sign-in\r\n          this.router.navigate(['/home']);\r\n        } else {\r\n          // Display an error message to the user\r\n          this.toastService.presentToast('Error', 'Please input email and password', 'top', 'danger', 2000);\r\n        }\r\n      } catch (error) {\r\n        // Handle and display the error to the user\r\n        this.toastService.presentToast('Error', 'Error signing in. Please try again.', 'top', 'danger', 2000);\r\n\r\n        console.error('Error signing in:', error);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n// this.submit_attempt = true;\r\n\r\n// // If email or password empty\r\n// if (this.signin_form.value.email == '' || this.signin_form.value.password == '') {\r\n//   this.toastService.presentToast('Error', 'Please input email and password', 'top', 'danger', 2000);\r\n\r\n// } else {\r\n\r\n//   // Proceed with loading overlay\r\n//   const loading = await this.loadingController.create({\r\n//     cssClass: 'default-loading',\r\n//     message: '<p>Signing in...</p><span>Please be patient.</span>',\r\n//     spinner: 'crescent'\r\n//   });\r\n//   await loading.present();\r\n\r\n//   // TODO: Add your sign in logic\r\n//   // ...\r\n\r\n//   // Fake timeout\r\n//   setTimeout(async () => {\r\n//     // Sign in success\r\n//     await this.router.navigate(['/home']);\r\n//     loading.dismiss();\r\n//   }, 2000);\r\n\r\n// DEBUG: Prefill inputs\r\n// this.signin_form.get('email').setValue('ineslahbib@gmail.com');\r\n// this.signin_form.get('password').setValue('123456')\r\n//   }\r\n\r\n// }","<ion-content>\r\n\r\n  <div class=\"ion-padding ion-full-height ion-flex ion-flex-center\">\r\n  <ion-img src=\"../../../../assets/logo.png\" style=\"height: 300px;width: 350px;\"></ion-img>\r\n\r\n    <!-- Login form -->\r\n  <div id=\"login-content\">\r\n\r\n        <form class=\"form-default\" [formGroup]=\"signin_form\" (submit)=\"signIn()\">\r\n          <ion-item class=\"animate__animated animate__fadeInUp\">\r\n            <ion-label position=\"floating\">\r\n              <ion-icon name=\"card-outline\"></ion-icon>\r\n              Numéro de la carte\r\n            </ion-label>\r\n            <ion-input type=\"Integer\" formControlName=\"email\"></ion-input>\r\n            </ion-item>\r\n            <br>\r\n            <ion-item class=\"animate__animated animate__fadeInUp\">\r\n              <ion-label position=\"floating\">\r\n                <ion-icon name=\"lock-closed-outline\"></ion-icon>\r\n              Mot de passe\r\n              </ion-label>\r\n              <ion-input color=\"secondary\" formControlName=\"password\" type=\"password\" placeholder=\"Mot de passe\"></ion-input>\r\n            </ion-item>\r\n            <br>\r\n            <!-- <ion-button class=\"ion-button-small ion-margin-top-medium ion-button1\" type=\"submit\" expand=\"block\" size=\"medium\"\r\n                          color=\"light\" fill=\"clear\">\r\n                          Accéder\r\n                      </ion-button> -->\r\n            <ion-button class=\"ion-button-small ion-margin-top-medium ion-button1\" routerLink=\"/home\" expand=\"block\" size=\"medium\"\r\n              color=\"light\" fill=\"clear\">\r\n              Accéder\r\n          </ion-button>\r\n          <!-- <ion-button color=\"light\" fill=\"clear\" expand=\"block\" class=\"ion-button-small ion-margin-top-medium\"\r\n            routerLink=\"/password-reset\">\r\n            Forgot password?\r\n          </ion-button> -->\r\n          </form>\r\n              <div class=\"ion-text-center ion-margin-top\">\r\n      <ion-text color=\"light\">\r\n        <small>Deltasoft International</small>\r\n      </ion-text>\r\n    </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n</ion-content>\r\n"],"names":["RouterModule","SigninPage","routes","path","component","SigninPageRoutingModule","forChild","imports","exports","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","SigninPageModule","declarations","Validators","constructor","authService","loadingController","formBuilder","toastService","router","Date","getFullYear","ngOnInit","signin_form","group","email","compose","minLength","required","password","signIn","submit_attempt","valid","value","loading","create","message","present","success","dismiss","navigate","presentToast","error","console","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}